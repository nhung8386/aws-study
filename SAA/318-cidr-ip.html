<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="header.title">CIDR, IP Riêng tư và Công cộng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: #f8fafc; /* Pale background */
            color: #1e293b; /* Slate 800 */
        }
        .section-title {
            color: #0ea5e9; /* Sky 500 (Networking Blue) */
        }
        .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }
        .highlight-box {
            background-color: #e0f2fe; /* Sky 100 */
            border-left: 5px solid #0ea5e9;
            padding: 1rem;
            border-radius: 0.5rem;
        }
        .cidr-table th {
            background-color: #0ea5e9;
            color: white;
            padding: 10px;
            text-align: left;
        }
        .cidr-table td {
            padding: 10px;
            border-bottom: 1px solid #e2e8f0;
        }
        .cidr-table tr:nth-child(even) {
            background-color: #f0f9ff;
        }
        .ip-private {
            background-color: #fef2f2; /* Red 50 */
            border: 1px solid #fca5a5; /* Red 300 */
        }
        .ip-public {
            background-color: #eff6ff; /* Blue 50 */
            border: 1px solid #93c5fd; /* Blue 300 */
        }
    </style>
</head>
<body>
    <div class="container mx-auto p-4 md:p-10 max-w-5xl">
        <header class="text-center mb-12 relative">
            <h1 class="text-4xl md:text-5xl font-extrabold mb-2 section-title" data-i18n="header.title">
                CIDR, IP Riêng tư và Công cộng
            </h1>
            <p class="text-lg text-gray-500" data-i18n="header.subtitle">Những Khái niệm Cơ bản về Địa chỉ IPv4</p>
            <div class="absolute top-0 right-0 mt-4 mr-4 flex space-x-2">
                <button id="lang-toggle-vi" class="px-3 py-1 rounded-md bg-sky-500 text-white font-semibold text-sm">VI</button>
                <button id="lang-toggle-en" class="px-3 py-1 rounded-md bg-gray-200 text-gray-700 font-semibold text-sm">EN</button>
            </div>
        </header>

        <main>
            <!-- Section 1: Introduction to CIDR -->
            <section id="cidr-intro" class="mb-12">
                <h2 class="text-3xl font-bold section-title mb-4" data-i18n="cidr.intro.title">1. Giới thiệu về CIDR</h2>
                <div class="card p-6">
                    <p class="text-gray-700 mb-4" data-i18n="cidr.intro.desc1">
                        **CIDR (Classless Inter-Domain Routing)** là một phương pháp phân bổ địa chỉ IP, thường thấy trong các quy tắc **security group** (ví dụ: `192.168.0.0/24`).
                    </p>
                    <div class="highlight-box">
                        <p class="font-semibold" data-i18n="cidr.intro.example1.title">Ví dụ về Dải IP:</p>
                        <ul class="list-disc ml-6 mt-2 text-sm text-gray-700 space-y-1">
                            <li data-i18n="cidr.intro.example1.p1">**`/32`**: Đại diện cho **một** địa chỉ IP duy nhất.</li>
                            <li data-i18n="cidr.intro.example1.p2">**`0.0.0.0/0`**: Đại diện cho **tất cả** các địa chỉ IP.</li>
                            <li data-i18n="cidr.intro.example1.p3">**`192.168.0.0/26`**: Đại diện cho một dải **64** địa chỉ IP.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Section 2: How CIDR Works -->
            <section id="cidr-structure" class="mb-12">
                <h2 class="text-3xl font-bold section-title mb-4" data-i18n="cidr.structure.title">2. Cách hoạt động của CIDR</h2>
                <div class="card p-6 space-y-4">
                    <p class="font-semibold text-lg text-gray-800" data-i18n="cidr.structure.components">CIDR bao gồm hai thành phần:</p>
                    
                    <div class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-6">
                        <div class="flex-1 border p-4 rounded-lg bg-indigo-50 border-indigo-200">
                            <p class="font-bold text-indigo-700 mb-1" data-i18n="cidr.structure.baseIP.title">1. Base IP (Địa chỉ IP Cơ sở)</p>
                            <p class="text-sm text-gray-600" data-i18n="cidr.structure.baseIP.desc">Một địa chỉ IP nằm trong dải (thường là địa chỉ đầu tiên). Ví dụ: `10.0.0.0` hoặc `192.168.0.0`.</p>
                        </div>
                        <div class="flex-1 border p-4 rounded-lg bg-indigo-50 border-indigo-200">
                            <p class="font-bold text-indigo-700 mb-1" data-i18n="cidr.structure.mask.title">2. Subnet Mask (Mặt nạ Mạng con)</p>
                            <p class="text-sm text-gray-600" data-i18n="cidr.structure.mask.desc">Xác định bao nhiêu bit (và do đó là bao nhiêu octet) có thể thay đổi. Được ký hiệu bằng dấu gạch chéo và một số (ví dụ: `/8`, `/24`, `/32`).</p>
                        </div>
                    </div>

                    <p class="pt-2 text-sm text-gray-600 italic" data-i18n="cidr.structure.form">
                        Ký hiệu dấu gạch chéo (ví dụ: /8, /16) là định dạng phổ biến nhất được sử dụng trong AWS.
                    </p>
                </div>
            </section>

            <!-- Section 3: Subnet Mask Details & Calculation -->
            <section id="subnet-details" class="mb-12">
                <h2 class="text-3xl font-bold section-title mb-4" data-i18n="subnet.details.title">3. Chi tiết Subnet Mask và Phạm vi Octet</h2>
                
                <div class="card p-6 mb-6">
                    <p class="font-semibold text-gray-800 mb-3" data-i18n="subnet.details.octetRule">
                        IP Address gồm 4 octet. Subnet Mask xác định có bao nhiêu octet có thể thay đổi:
                    </p>
                    <ul class="list-disc ml-6 text-sm text-gray-600 space-y-1">
                        <li data-i18n="subnet.details.o1">`/32`: Không octet nào thay đổi (1 IP).</li>
                        <li data-i18n="subnet.details.o2">`/24`: Octet cuối cùng thay đổi (256 IPs).</li>
                        <li data-i18n="subnet.details.o3">`/16`: Hai octet cuối cùng thay đổi (65.536 IPs).</li>
                        <li data-i18n="subnet.details.o4">`/8`: Ba octet cuối cùng thay đổi.</li>
                        <li data-i18n="subnet.details.o5">`/0`: Tất cả các octet thay đổi (Toàn bộ không gian IPv4).</li>
                    </ul>
                </div>

                <div class="card p-6">
                    <h3 class="font-bold text-xl mb-3 text-gray-800" data-i18n="subnet.details.tableTitle">Bảng Tóm tắt Số lượng IP</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full cidr-table text-sm rounded-lg overflow-hidden">
                            <thead>
                                <tr>
                                    <th data-i18n="table.header.mask">Subnet Mask</th>
                                    <th data-i18n="table.header.ips">Số lượng IP</th>
                                    <th data-i18n="table.header.example">Ví dụ Dải IP</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>`/32`</td>
                                    <td>1 (<span data-i18n="table.ipcount.single">2<sup>0</sup></span>)</td>
                                    <td><span data-i18n="table.example.32">Chỉ 134.56.78.123</span></td>
                                </tr>
                                <tr>
                                    <td>`/30`</td>
                                    <td>4</td>
                                    <td><span data-i18n="table.example.30">.0 đến .3</span></td>
                                </tr>
                                <tr>
                                    <td>`/24`</td>
                                    <td>256</td>
                                    <td><span data-i18n="table.example.24">.0 đến .255 (Octet cuối cùng)</span></td>
                                </tr>
                                <tr>
                                    <td>`/16`</td>
                                    <td>65,536</td>
                                    <td><span data-i18n="table.example.16">Hai octet cuối thay đổi</span></td>
                                </tr>
                                <tr>
                                    <td>`/0`</td>
                                    <td><span data-i18n="table.ipcount.all">Tất cả các IP</span></td>
                                    <td><span data-i18n="table.example.0">Toàn bộ không gian IPv4</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
            
            <!-- Section 4: Public vs Private IP Addresses -->
            <section id="ip-types" class="mb-12">
                <h2 class="text-3xl font-bold section-title mb-4" data-i18n="ip.types.title">4. Địa chỉ IP Riêng tư (Private) vs Công cộng (Public)</h2>
                <div class="card p-6 space-y-6">
                    <p class="text-gray-700" data-i18n="ip.types.intro">
                        IANA (Internet Assigned Numbers Authority) đã dành riêng một số dải IP cho các mạng cục bộ (LAN) **riêng tư** và các dải khác cho internet **công cộng**.
                    </p>

                    <div class="ip-private p-4 rounded-lg">
                        <h3 class="font-bold text-xl text-red-700 mb-2" data-i18n="ip.private.title">Dải IP Riêng tư (Private IP Ranges)</h3>
                        <p class="text-sm text-red-600 mb-2" data-i18n="ip.private.desc">Được sử dụng trong các mạng nội bộ (Local/LAN). Không thể định tuyến trực tiếp qua Internet công cộng.</p>
                        <ul class="list-disc ml-6 text-sm text-red-800 font-semibold space-y-1">
                            <li>`10.0.0.0/8` <span class="font-normal text-gray-600" data-i18n="ip.private.r1">(Dải lớn, dùng cho mạng lưới lớn)</span></li>
                            <li>`172.16.0.0/12` <span class="font-normal text-gray-600" data-i18n="ip.private.r2">(Dải giữa)</span></li>
                            <li>`192.168.0.0/16` <span class="font-normal text-gray-600" data-i18n="ip.private.r3">(Thường dùng cho mạng gia đình)</span></li>
                        </ul>
                    </div>
                    
                    <div class="ip-public p-4 rounded-lg">
                        <h3 class="font-bold text-xl text-blue-700 mb-2" data-i18n="ip.public.title">Địa chỉ IP Công cộng (Public IP Addresses)</h3>
                        <p class="text-sm text-blue-600" data-i18n="ip.public.desc">
                            Tất cả các địa chỉ IP nằm **ngoài** các dải riêng tư được liệt kê ở trên đều là IP công cộng và được sử dụng trên Internet.
                        </p>
                    </div>
                </div>
            </section>
            
            <!-- Section 5: Summary and Tools -->
            <section id="summary" class="text-center">
                <h2 class="text-3xl font-bold text-gray-800 mb-4" data-i18n="summary.title">Tóm Tắt</h2>
                <p class="text-lg text-gray-600 max-w-4xl mx-auto mb-4" data-i18n="summary.conclusion">
                    Việc hiểu **CIDR** và sự khác biệt giữa IP **Riêng tư** và **Công cộng** là kiến thức nền tảng quan trọng để cấu hình mạng và các quy tắc bảo mật trong môi trường đám mây như AWS.
                </p>
                <p class="text-sm text-sky-600 font-semibold italic" data-i18n="summary.tools">
                    <i class="fas fa-tools mr-1"></i> Gợi ý: Có nhiều công cụ trực tuyến hữu ích để chuyển đổi giữa ký hiệu CIDR và dải IP.
                </p>
            </section>

        </main>
    </div>

    <script>
        const translations = {
            vi: {
                header: {
                    title: "CIDR, IP Riêng tư và Công cộng",
                    subtitle: "Những Khái niệm Cơ bản về Địa chỉ IPv4"
                },
                cidr: {
                    intro: {
                        title: "1. Giới thiệu về CIDR",
                        desc1: "**CIDR (Classless Inter-Domain Routing)** là một phương pháp phân bổ địa chỉ IP, thường thấy trong các quy tắc **security group** (ví dụ: `192.168.0.0/24`).",
                        example1: {
                            title: "Ví dụ về Dải IP:",
                            p1: "**`/32`**: Đại diện cho **một** địa chỉ IP duy nhất.",
                            p2: "**`0.0.0.0/0`**: Đại diện cho **tất cả** các địa chỉ IP.",
                            p3: "**`192.168.0.0/26`**: Đại diện cho một dải **64** địa chỉ IP."
                        }
                    },
                    structure: {
                        title: "2. Cách hoạt động của CIDR",
                        components: "CIDR bao gồm hai thành phần:",
                        baseIP: {
                            title: "1. Base IP (Địa chỉ IP Cơ sở)",
                            desc: "Một địa chỉ IP nằm trong dải (thường là địa chỉ đầu tiên). Ví dụ: `10.0.0.0` hoặc `192.168.0.0`."
                        },
                        mask: {
                            title: "2. Subnet Mask (Mặt nạ Mạng con)",
                            desc: "Xác định bao nhiêu bit (và do đó là bao nhiêu octet) có thể thay đổi. Được ký hiệu bằng dấu gạch chéo và một số (ví dụ: `/8`, `/24`, `/32`)."
                        },
                        form: "Ký hiệu dấu gạch chéo (ví dụ: /8, /16) là định dạng phổ biến nhất được sử dụng trong AWS."
                    }
                },
                subnet: {
                    details: {
                        title: "3. Chi tiết Subnet Mask và Phạm vi Octet",
                        octetRule: "IP Address gồm 4 octet. Subnet Mask xác định có bao nhiêu octet có thể thay đổi:",
                        o1: "`/32`: Không octet nào thay đổi (1 IP).",
                        o2: "`/24`: Octet cuối cùng thay đổi (256 IPs).",
                        o3: "`/16`: Hai octet cuối cùng thay đổi (65.536 IPs).",
                        o4: "`/8`: Ba octet cuối cùng thay đổi.",
                        o5: "`/0`: Tất cả các octet thay đổi (Toàn bộ không gian IPv4)."
                    },
                    examples: {
                        title: "Ví dụ Thực hành CIDR"
                    }
                },
                table: {
                    header: {
                        mask: "Subnet Mask",
                        ips: "Số lượng IP",
                        example: "Ví dụ Dải IP"
                    },
                    ipcount: {
                        single: "2⁰",
                        all: "Tất cả các IP"
                    },
                    example: {
                        32: "Chỉ 134.56.78.123",
                        30: ".0 đến .3",
                        24: ".0 đến .255 (Octet cuối cùng)",
                        16: "Hai octet cuối thay đổi",
                        0: "Toàn bộ không gian IPv4"
                    }
                },
                ip: {
                    types: {
                        title: "4. Địa chỉ IP Riêng tư (Private) vs Công cộng (Public)",
                        intro: "IANA (Internet Assigned Numbers Authority) đã dành riêng một số dải IP cho các mạng cục bộ (LAN) **riêng tư** và các dải khác cho internet **công cộng**."
                    },
                    private: {
                        title: "Dải IP Riêng tư (Private IP Ranges)",
                        desc: "Được sử dụng trong các mạng nội bộ (Local/LAN). Không thể định tuyến trực tiếp qua Internet công cộng.",
                        r1: "(Dải lớn, dùng cho mạng lưới lớn)",
                        r2: "(Dải giữa)",
                        r3: "(Thường dùng cho mạng gia đình)"
                    },
                    public: {
                        title: "Địa chỉ IP Công cộng (Public IP Addresses)",
                        desc: "Tất cả các địa chỉ IP nằm **ngoài** các dải riêng tư được liệt kê ở trên đều là IP công cộng và được sử dụng trên Internet."
                    }
                },
                summary: {
                    title: "Tóm Tắt",
                    conclusion: "Việc hiểu **CIDR** và sự khác biệt giữa IP **Riêng tư** và **Công cộng** là kiến thức nền tảng quan trọng để cấu hình mạng và các quy tắc bảo mật trong môi trường đám mây như AWS.",
                    tools: "Gợi ý: Có nhiều công cụ trực tuyến hữu ích để chuyển đổi giữa ký hiệu CIDR và dải IP."
                }
            },
            en: {
                header: {
                    title: "CIDR, Private vs Public IP",
                    subtitle: "The Basics of IPv4 Addressing"
                },
                cidr: {
                    intro: {
                        title: "1. Introduction to CIDR",
                        desc1: "**CIDR (Classless Inter-Domain Routing)** is a method for allocating IP addresses, often seen in **security group** rules (e.g., `192.168.0.0/24`).",
                        example1: {
                            title: "IP Range Examples:",
                            p1: "**`/32`**: Represents **only one** IP address.",
                            p2: "**`0.0.0.0/0`**: Represents **all** IP addresses.",
                            p3: "**`192.168.0.0/26`**: Represents a range of **64** IP addresses."
                        }
                    },
                    structure: {
                        title: "2. How CIDR Works",
                        components: "CIDR consists of two components:",
                        baseIP: {
                            title: "1. Base IP",
                            desc: "An IP address contained within the range (usually the starting address). Examples: `10.0.0.0` or `192.168.0.0`."
                        },
                        mask: {
                            title: "2. Subnet Mask",
                            desc: "Defines how many bits (and thus octets) can change. Denoted by a slash and a number (e.g., `/8`, `/24`, `/32`)."
                        },
                        form: "The slash notation (e.g., /8, /16) is the most common format used in AWS."
                    }
                },
                subnet: {
                    details: {
                        title: "3. Subnet Mask Details and Octet Range",
                        octetRule: "An IP Address consists of 4 octets. The Subnet Mask determines how many can vary:",
                        o1: "`/32`: No octets can change (1 IP).",
                        o2: "`/24`: The last octet can change (256 IPs).",
                        o3: "`/16`: The last two octets can change (65,536 IPs).",
                        o4: "`/8`: The last three octets can change.",
                        o5: "`/0`: All octets can change (The entire IPv4 space)."
                    },
                    examples: {
                        title: "CIDR Notation Exercise"
                    }
                },
                table: {
                    header: {
                        mask: "Subnet Mask",
                        ips: "Number of IPs",
                        example: "IP Range Example"
                    },
                    ipcount: {
                        single: "2⁰",
                        all: "All IPs"
                    },
                    example: {
                        32: "Only 134.56.78.123",
                        30: ".0 to .3",
                        24: ".0 to .255 (Last Octet)",
                        16: "Last two octets change",
                        0: "Entire IPv4 space"
                    }
                },
                ip: {
                    types: {
                        title: "4. Public vs Private IP Addresses",
                        intro: "The IANA (Internet Assigned Numbers Authority) has designated specific IP blocks for **private** LAN networks and others for the **public** internet."
                    },
                    private: {
                        title: "Private IP Ranges",
                        desc: "Reserved for local networks (Local/LAN). Cannot be routed directly over the public Internet.",
                        r1: "(Large range, common in big networks)",
                        r2: "(Mid-range)",
                        r3: "(Typically used for home networks)"
                    },
                    public: {
                        title: "Public IP Addresses",
                        desc: "All other IP addresses outside these reserved private ranges are Public IPs and are used on the Internet."
                    }
                },
                summary: {
                    title: "Summary",
                    conclusion: "Understanding **CIDR** and the difference between **Private** and **Public** IPs is essential foundational knowledge for networking and configuring security rules in cloud environments like AWS.",
                    tools: "Tip: Handy websites are available to convert between CIDR notation and IP ranges."
                }
            }
        };

        let currentLanguage = 'vi'; // Default language

        const langToggleVi = document.getElementById('lang-toggle-vi');
        const langToggleEn = document.getElementById('lang-toggle-en');

        function getNestedTranslation(obj, path) {
            return path.split('.').reduce((acc, part) => acc && acc[part], obj);
        }

        function updateContent() {
            const elements = document.querySelectorAll('[data-i18n]');
            elements.forEach(element => {
                const key = element.getAttribute('data-i18n');
                const translatedText = getNestedTranslation(translations[currentLanguage], key);
                if (translatedText) {
                    element.innerHTML = translatedText;
                }
            });
            updateLanguageButtons();
        }

        function updateLanguageButtons() {
            if (currentLanguage === 'vi') {
                langToggleVi.classList.remove('bg-gray-200', 'text-gray-700');
                langToggleVi.classList.add('bg-sky-500', 'text-white');
                langToggleEn.classList.remove('bg-sky-500', 'text-white');
                langToggleEn.classList.add('bg-gray-200', 'text-gray-700');
            } else {
                langToggleEn.classList.remove('bg-gray-200', 'text-gray-700');
                langToggleEn.classList.add('bg-sky-500', 'text-white');
                langToggleVi.classList.remove('bg-sky-500', 'text-white');
                langToggleVi.classList.add('bg-gray-200', 'text-gray-700');
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize content with default language
            updateContent();

            // Language toggle event listeners
            langToggleVi.addEventListener('click', () => {
                currentLanguage = 'vi';
                updateContent();
            });

            langToggleEn.addEventListener('click', () => {
                currentLanguage = 'en';
                updateContent();
            });
        });
    </script>
</body>
</html>
